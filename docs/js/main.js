const v=document.querySelector(".js__header_form"),l=document.querySelector(".js__principal_list"),C=document.querySelector(".js__input_button"),u=document.querySelector(".js__input_text"),o=document.querySelector(".js__favourites_list"),g=document.querySelector(".js__button_reset");let i=[],c=[];const d=JSON.parse(localStorage.getItem("favorites"));JSON.parse(localStorage.getItem("cardFav"));const _=e=>{const a=document.createElement("li");a.classList.add("card"),a.setAttribute("data-ident",`${e._id}`);const t=document.createElement("img");t.classList.add("card-image"),t.src=`${e.imageUrl}`,i.findIndex(h=>h.imageUrl===t.src)===-1&&(t.src=`https://fakeimg.pl/300x170/f0c9c9/ffffff?text=${e.name}&font=lobster`),t.alt=`${e.name}`,t.title="Add character to favourites";const n=document.createElement("h3"),s=document.createTextNode(`${e.name}`);n.appendChild(s),n.classList.add("card-name"),l.appendChild(a),a.appendChild(t),a.appendChild(n),a.addEventListener("click",S)},L=e=>{const a=document.createElement("li");a.classList.add("favourites-cards"),a.setAttribute("data-ident",`${e._id}`);const t=document.createElement("img");t.classList.add("card-image"),t.src=`${e.imageUrl}`,t.alt=`${e.name}`,t.title="Favourite-card";const r=document.createElement("h3"),n=document.createTextNode(`${e.name}`);r.appendChild(n),r.classList.add("card-name"),o.appendChild(a),a.appendChild(t),a.appendChild(r)},m=()=>{l.innerHTML="";for(const e of i)_(e)},p=()=>{o.innerHTML="";for(const e of c)L(e)},S=e=>{const a=e.currentTarget;a.classList.toggle("favourites");const t=parseInt(a.dataset.ident),r=i.find(s=>s._id===t),n=c.findIndex(s=>s._id===t);n===-1?c.push(r):c.splice(n,1),p(),localStorage.setItem("favorites",JSON.stringify(c))},f=()=>{let a=u.value.replace(/ /g,"%20");fetch(`//api.disneyapi.dev/character?name=${a}`).then(t=>t.json()).then(t=>{i=t.data,m()})},y=e=>{e.key==="Enter"&&f()},E=()=>{localStorage.removeItem("favorites"),o.innerHTML=""};v.addEventListener("submit",e=>{e.preventDefault()});C.addEventListener("click",f);u.addEventListener("keyup",y);g.addEventListener("click",E);fetch("//api.disneyapi.dev/character?pageSize=50").then(e=>e.json()).then(e=>{i=e.data,m()});d&&(c=d,p());
//# sourceMappingURL=main.js.map
