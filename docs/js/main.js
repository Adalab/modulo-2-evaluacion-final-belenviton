const v=document.querySelector(".js__header_form"),o=document.querySelector(".js__principal_list"),C=document.querySelector(".js__input_button"),l=document.querySelector(".js__input_text"),u=document.querySelector(".js__favourites_list");let i=[],s=[];const d=JSON.parse(localStorage.getItem("favorites"));JSON.parse(localStorage.getItem("cardFav"));const g=e=>{const t=document.createElement("li");t.classList.add("card"),t.setAttribute("data-ident",`${e._id}`);const a=document.createElement("img");a.classList.add("card-image"),a.src=`${e.imageUrl}`,i.findIndex(h=>h.imageUrl===a.src)===-1&&(a.src=`https://fakeimg.pl/300x170/f0c9c9/ffffff?text=${e.name}&font=lobster`),a.alt=`${e.name}`,a.title="Add character to favourites";const n=document.createElement("h3"),r=document.createTextNode(`${e.name}`);n.appendChild(r),n.classList.add("card-name"),o.appendChild(t),t.appendChild(a),t.appendChild(n),t.addEventListener("click",L)},_=e=>{const t=document.createElement("li");t.classList.add("favourites-cards"),t.setAttribute("data-ident",`${e._id}`);const a=document.createElement("button");document.createTextNode("x"),a.classList.add("button-close");const c=document.createElement("img");c.classList.add("card-image"),c.src=`${e.imageUrl}`,c.alt=`${e.name}`,c.title="Favourite-card";const n=document.createElement("h3"),r=document.createTextNode(`${e.name}`);n.appendChild(r),n.classList.add("card-name"),u.appendChild(t),t.appendChild(a),t.appendChild(c),t.appendChild(n)},m=()=>{o.innerHTML="";for(const e of i)g(e)},p=()=>{u.innerHTML="";for(const e of s)_(e)},L=e=>{const t=e.currentTarget;t.classList.toggle("favourites");const a=parseInt(t.dataset.ident),c=i.find(r=>r._id===a),n=s.findIndex(r=>r._id===a);n===-1?s.push(c):s.splice(n,1),p(),localStorage.setItem("favorites",JSON.stringify(s))},f=()=>{let t=l.value.replace(/ /g,"%20");fetch(`//api.disneyapi.dev/character?name=${t}`).then(a=>a.json()).then(a=>{i=a.data,m()})},y=e=>{e.key==="Enter"&&f()};v.addEventListener("submit",e=>{e.preventDefault()});C.addEventListener("click",f);l.addEventListener("keyup",y);fetch("//api.disneyapi.dev/character?pageSize=50").then(e=>e.json()).then(e=>{i=e.data,m()});d&&(s=d,p());
//# sourceMappingURL=main.js.map
