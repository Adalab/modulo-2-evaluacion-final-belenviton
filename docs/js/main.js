const v=document.querySelector(".js__header_form"),o=document.querySelector(".js__principal_list"),C=document.querySelector(".js__input_button"),l=document.querySelector(".js__input_text"),u=document.querySelector(".js__favourites_list");let i=[],c=[];const d=JSON.parse(localStorage.getItem("favourites")),g=e=>{const a=document.createElement("li");a.classList.add("card"),a.setAttribute("data-ident",`${e._id}`);const t=document.createElement("img");t.classList.add("card-image"),t.src=`${e.imageUrl}`,i.findIndex(h=>h.imageUrl===t.src)===-1&&(t.src=`https://fakeimg.pl/300x170/f0c9c9/ffffff?text=${e.name}&font=lobster`),t.alt=`${e.name}`,t.title="Add character to favourites";const n=document.createElement("h3"),s=document.createTextNode(`${e.name}`);n.appendChild(s),n.classList.add("card-name"),o.appendChild(a),a.appendChild(t),a.appendChild(n),a.addEventListener("click",L)},_=e=>{const a=document.createElement("li");a.classList.add("favourites-cards"),a.setAttribute("data-ident",`${e._id}`);const t=document.createElement("img");t.classList.add("card-image"),t.src=`${e.imageUrl}`,t.alt=`${e.name}`,t.title="Favourite-card";const r=document.createElement("h3"),n=document.createTextNode(`${e.name}`);r.appendChild(n),r.classList.add("card-name"),u.appendChild(a),a.appendChild(t),a.appendChild(r)},m=()=>{o.innerHTML="";for(const e of i)g(e)},p=()=>{u.innerHTML="";for(const e of c)_(e)},L=e=>{const a=e.currentTarget;a.classList.toggle("favourites");const t=parseInt(a.dataset.ident),r=i.find(s=>s._id===t),n=c.findIndex(s=>s._id===t);n===-1?c.push(r):c.splice(n,1),localStorage.setItem("favourites",JSON.stringify(c)),p()},f=()=>{let a=l.value.replace(/ /g,"%20");fetch(`//api.disneyapi.dev/character?name=${a}`).then(t=>t.json()).then(t=>{i=t.data,m()})},y=e=>{e.key==="Enter"&&f()};v.addEventListener("submit",e=>{e.preventDefault()});C.addEventListener("click",f);l.addEventListener("keyup",y);fetch("//api.disneyapi.dev/character?pageSize=50").then(e=>e.json()).then(e=>{i=e.data,m()});d&&(c=d,p());
//# sourceMappingURL=main.js.map
