const f=document.querySelector(".js__header_form"),d=document.querySelector(".js__principal_list"),h=document.querySelector(".js__input_button"),o=document.querySelector(".js__input_text"),l=document.querySelector(".js__favourites_list");let i=[],s=[];const v=e=>{const a=document.createElement("li");a.classList.add("card"),a.setAttribute("data-ident",`${e._id}`);const t=document.createElement("img");t.classList.add("card-image"),t.src=`${e.imageUrl}`,i.findIndex(p=>p.imageUrl===t.src)===-1&&(t.src=`https://fakeimg.pl/300x170/f0c9c9/ffffff?text=${e.name}&font=lobster`),t.alt=`${e.name}`,t.title="Add character to favourites";const n=document.createElement("h3"),c=document.createTextNode(`${e.name}`);n.appendChild(c),n.classList.add("card-name"),d.appendChild(a),a.appendChild(t),a.appendChild(n),a.addEventListener("click",_)},C=e=>{const a=document.createElement("li");a.classList.add("favourites-cards"),a.setAttribute("data-ident",`${e._id}`);const t=document.createElement("img");t.classList.add("card-image"),t.src=`${e.imageUrl}`,t.alt=`${e.name}`,t.title="Favourite-card";const r=document.createElement("h3"),n=document.createTextNode(`${e.name}`);r.appendChild(n),r.classList.add("card-name"),l.appendChild(a),a.appendChild(t),a.appendChild(r)},u=()=>{d.innerHTML="";for(const e of i)v(e)},g=()=>{l.innerHTML="";for(const e of s)C(e)},_=e=>{const a=e.currentTarget;a.classList.toggle("favourites");const t=parseInt(a.dataset.ident),r=i.find(c=>c._id===t),n=s.findIndex(c=>c._id===t);n===-1?s.push(r):s.splice(n,1),g(),localStorage.getItem("favourites")!==null?JSON.parse(localStorage.getItem("favourites")):localStorage.setItem("favourites",JSON.stringify(s))},m=()=>{let a=o.value.replace(/ /g,"%20");fetch(`//api.disneyapi.dev/character?name=${a}`).then(t=>t.json()).then(t=>{i=t.data,u()})},L=e=>{e.key==="Enter"&&m()};f.addEventListener("submit",e=>{e.preventDefault()});h.addEventListener("click",m);o.addEventListener("keyup",L);fetch("//api.disneyapi.dev/character?pageSize=50").then(e=>e.json()).then(e=>{i=e.data,u()});
//# sourceMappingURL=main.js.map
